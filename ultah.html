<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kado Spesial</title>
<style>
body {
  margin: 0;
  font-family: 'Comic Sans MS', cursive, sans-serif;
  background: #fffacd;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  overflow: hidden;
}

.page {
  position: absolute;
  top:0; left:0;
  width: 100%;
  height: 100%;
  display: none;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

.active { display: flex; }

h1, p { text-align:center; color:#ff69b4; }
h1 { font-size:2.5em; margin-bottom:10px; }
p { font-size:1.2em; margin-bottom:20px; }

.gift {
  width:150px;
  animation: shake 1s infinite;
  cursor:pointer;
}

@keyframes shake {
  0% { transform: rotate(0deg); }
  25% { transform: rotate(5deg); }
  50% { transform: rotate(-5deg); }
  75% { transform: rotate(5deg); }
  100% { transform: rotate(0deg); }
}

button {
  padding: 10px 20px;
  font-size:1em;
  cursor:pointer;
  border:none;
  border-radius:8px;
  background:#ffcc00;
}

.dino { position:absolute; width:40px; height:40px; cursor:pointer; }
canvas { position:absolute; top:0; left:0; pointer-events:none; }

</style>
</head>
<body>

<!-- Musik background -->
<audio id="bgMusic" src="musik.mp3" loop></audio>

<!-- PAGE 0 - Mockup Kado -->
<div id="page0" class="page active">
  <img src="kado.png" class="gift" id="giftImg">
  <h1 id="giftText" style="display:none;">Kado akan tiba tanggal 14 ğŸ<br>Jangan kemana-mana yaaaâ€¦</h1>
  <button id="openGiftBtn">Buka ğŸ‰</button>
</div>

<!-- PAGE 1 - Nailong kecil terbang + confetti + HBD -->
<div id="page1" class="page">
  <h1>Ciee, HBD ya! Baru 16 tahun ğŸ’›</h1>
  <button id="nextBtn" style="display:none;" onclick="goToPage(2)">Next ğŸ‰</button>
</div>

<!-- PAGE 2 - Video Nailong + interaktif -->
<div id="page2" class="page">
  <h1>Video Nailong ğŸ¬</h1>
  <p>Klik dino untuk kejutan ğŸ</p>
  <video id="nailongVideo" controls autoplay loop muted style="max-width:80%; border-radius:10px;">
    <source src="nailong.mp4" type="video/mp4">
  </video>
  <button onclick="goToPage(1)">Back ğŸ”™</button>
</div>

<canvas id="confetti"></canvas>

<script>
function goToPage(n){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById('page'+n).classList.add('active');
}

// Page0 - buka kado
document.getElementById('openGiftBtn').addEventListener('click', ()=>{
  // tampilkan teks
  const giftText = document.getElementById('giftText');
  giftText.style.display='block';

  // mainkan musik (desktop + mobile)
  const music = document.getElementById('bgMusic');
  music.play().catch(()=>console.log("Browser memerlukan gesture untuk play musik"));

  // munculkan tombol Next di Page1 setelah delay
  setTimeout(()=>{
    const nextBtn = document.getElementById('nextBtn');
    nextBtn.style.display='inline-block';
    goToPage(1); // langsung pindah ke page1 Nailong
  }, 6000); // delay 0.5 detik
});

// Confetti
const canvas = document.getElementById('confetti');
const ctx = canvas.getContext('2d');
canvas.width=window.innerWidth; canvas.height=window.innerHeight;
const confettiCount=50; const confetti=[];
function random(min,max){ return Math.random()*(max-min)+min; }
for(let i=0;i<confettiCount;i++){
  confetti.push({x:random(0,canvas.width),y:random(-canvas.height,0),r:random(3,7),d:random(1,2),color:`hsl(${random(40,60)},100%,50%)`});
}

function drawConfetti(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  confetti.forEach(f=>{
    ctx.beginPath();
    ctx.arc(f.x,f.y,f.r,0,Math.PI*2);
    ctx.fillStyle=f.color; ctx.fill();
    f.y+=f.d;
    if(f.y>canvas.height) f.y=-f.r;
  });
  requestAnimationFrame(drawConfetti);
}
drawConfetti();

window.addEventListener('resize',()=>{ canvas.width=window.innerWidth; canvas.height=window.innerHeight; });

// Dino kecil terbang page1
const dinoCount1=15;
for(let i=0;i<dinoCount1;i++){
  const dino=document.createElement('img');
  dino.src='dino.png';
  dino.className='dino';
  dino.style.left=random(0,window.innerWidth-40)+'px';
  dino.style.top=random(0,window.innerHeight-40)+'px';
  document.getElementById('page1').appendChild(dino);
  animateDino(dino);
}

// Dino interaktif page2
const dinoCount2=10;
for(let i=0;i<dinoCount2;i++){
  const dino=document.createElement('img');
  dino.src='dino.png';
  dino.className='dino';
  dino.style.left=random(0,window.innerWidth-40)+'px';
  dino.style.top=random(0,window.innerHeight-40)+'px';
  document.getElementById('page2').appendChild(dino);

  dino.addEventListener('click',()=>{
    for(let j=0;j<10;j++){
      confetti.push({x:parseFloat(dino.style.left)+20,y:parseFloat(dino.style.top)+20,r:random(3,6),d:random(1,3),color:`hsl(${random(40,60)},100%,50%)`});
    }
  });
}

// Animasi terbang acak dino
function animateDino(el){
  const dx=random(-1,1); const dy=random(0.5,1.5);
  function move(){
    let x=parseFloat(el.style.left), y=parseFloat(el.style.top);
    let nx=x+dx, ny=y+dy;
    if(nx<0 || nx>window.innerWidth-40) nx=random(0,window.innerWidth-40);
    if(ny<0 || ny>window.innerHeight-40) ny=random(0,window.innerHeight-40);
    el.style.left=nx+'px'; el.style.top=ny+'px';
    requestAnimationFrame(move);
  }
  move();
}
</script>

</body>
</html>
